<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Admin Panel - AEV</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="admin-body">
    <div class="container">
        <!-- Login Form -->
        <div class="login-container" id="loginForm">
            <div class="login-header">
                <h1>ğŸ” Admin Panel</h1>
                <p>ÄÄƒng nháº­p Ä‘á»ƒ quáº£n lÃ½ há»‡ thá»‘ng</p>
            </div>

            <form id="loginFormElement" onsubmit="return false;">
                <div class="form-group">
                    <label>ğŸ‘¤ TÃªn Ä‘Äƒng nháº­p</label>
                    <input type="text" id="username" class="form-control" placeholder="Nháº­p username" required autocomplete="username">
                </div>

                <div class="form-group">
                    <label>ğŸ”‘ Máº­t kháº©u</label>
                    <input type="password" id="password" class="form-control" placeholder="Nháº­p password" required autocomplete="current-password">
                </div>

                <button type="submit" class="btn btn-primary btn-block">ÄÄƒng nháº­p</button>
            </form>

            <div class="default-info">
                <p><strong>ğŸ“ LiÃªn há»‡ 0394304799 Ä‘á»ƒ láº¥y máº­t kháº©u</strong></p>
            </div>
        </div>

        <!-- Admin Panel -->
        <div class="admin-panel" id="adminPanel" style="display: none;">
            <!-- Header -->
            <div class="admin-header">
                <h1>ğŸ›ï¸ Báº£ng Äiá»u Khiá»ƒn</h1>
                <div class="user-info">
                    <span class="username" id="displayUsername"></span>
                    <button class="btn btn-danger btn-sm" onclick="handleLogout()">ÄÄƒng xuáº¥t</button>
                </div>
            </div>

            <!-- Card 1: Google Form Link -->
            <div class="card">
                <div class="card-header">
                    <span class="icon">ğŸ“</span>
                    <h2>Quáº£n lÃ½ Link Google Form</h2>
                </div>

                <div class="info-box">
                    <p><strong>ğŸ’¡ HÆ°á»›ng dáº«n:</strong> Báº¡n cÃ³ thá»ƒ paste:</p>
                    <p>
                        âœ… <strong>Link trá»±c tiáº¿p:</strong> https://docs.google.com/forms/d/e/.../viewform<br>
                        âœ… <strong>Code iframe:</strong> &lt;iframe src="..."&gt;&lt;/iframe&gt;
                    </p>
                    <p>Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng trÃ­ch xuáº¥t link vÃ  thÃªm embedded=true</p>
                </div>

                <div class="current-value">
                    <strong>Link hiá»‡n táº¡i:</strong> 
                    <span id="currentLinkText">ChÆ°a cÃ³ dá»¯ liá»‡u</span>
                </div>

                <div class="form-group">
                    <label>ğŸ”— Link Google Form má»›i</label>
                    <textarea id="formLink" class="form-control" rows="3" placeholder="Paste link Google Form embedded táº¡i Ä‘Ã¢y..."></textarea>
                </div>

                <button class="btn btn-primary" onclick="saveFormLink()">ğŸ’¾ LÆ°u Link Form</button>
                <button class="btn btn-secondary" onclick="deleteFormLink()">ğŸ—‘ï¸ XÃ³a Link Form</button>
            </div>

            <!-- Card 2: Logo Management -->
            <div class="card">
                <div class="card-header">
                    <span class="icon">ğŸ–¼ï¸</span>
                    <h2>Quáº£n lÃ½ Logo</h2>
                </div>

                <div class="info-box">
                    <p><strong>ğŸ’¡ HÆ°á»›ng dáº«n:</strong> Upload áº£nh logo má»›i (JPG, PNG, GIF). áº¢nh nÃªn cÃ³ kÃ­ch thÆ°á»›c vuÃ´ng (vÃ­ dá»¥: 500x500px) Ä‘á»ƒ hiá»ƒn thá»‹ tá»‘t nháº¥t.</p>
                </div>

                <div class="preview-container">
                    <p><strong>Logo hiá»‡n táº¡i:</strong></p>
                    <img id="currentLogo" class="preview-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%234A90E2' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' font-size='48' fill='white' text-anchor='middle' dy='.3em'%3EAEV%3C/text%3E%3C/svg%3E" alt="Current Logo">
                </div>

                <div class="form-group">
                    <label class="file-upload" for="logoUpload">
                        <span class="icon">ğŸ“¤</span>
                        <div class="file-upload-text">
                            <strong>Chá»n áº£nh logo má»›i</strong><br>
                            <span>Click Ä‘á»ƒ chá»n file tá»« mÃ¡y tÃ­nh</span>
                        </div>
                        <input type="file" id="logoUpload" accept="image/*">
                    </label>
                </div>

                <div class="preview-container" id="newLogoPreview" style="display: none;">
                    <p><strong>Preview áº£nh má»›i:</strong></p>
                    <img id="previewImage" class="preview-image" alt="Preview">
                </div>

                <button class="btn btn-primary" id="saveLogoBtn" onclick="saveLogo()" style="display: none;">ğŸ’¾ LÆ°u Logo Má»›i</button>
            </div>

            <!-- Card 3: Sidebar Content -->
            <div class="card">
                <div class="card-header">
                    <span class="icon">ğŸ“„</span>
                    <h2>Quáº£n lÃ½ Ná»™i dung Sidebar</h2>
                </div>

                <div class="info-box">
                    <p><strong>ğŸ’¡ HÆ°á»›ng dáº«n:</strong> Chá»‰nh sá»­a ná»™i dung 4 má»¥c trong sidebar bÃªn trÃ¡i (chá»‰ hiá»‡n trÃªn PC).</p>
                </div>

                <div class="form-group">
                    <label>ğŸ“‹ TiÃªu Ä‘á» HÆ°á»›ng dáº«n</label>
                    <input type="text" id="sidebarGuideTitle" class="form-control" placeholder="VD: ğŸ“‹ HÆ°á»›ng dáº«n" value="ğŸ“‹ HÆ°á»›ng dáº«n">
                </div>

                <div class="form-group">
                    <label>ğŸ“‹ Ná»™i dung HÆ°á»›ng dáº«n</label>
                    <textarea id="sidebarGuideContent" class="form-control" rows="3">Vui lÃ²ng Ä‘iá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin vÃ o biá»ƒu máº«u bÃªn cáº¡nh. Má»i thÃ´ng tin sáº½ Ä‘Æ°á»£c báº£o máº­t.</textarea>
                </div>

                <div class="form-group">
                    <label>â±ï¸ TiÃªu Ä‘á» Thá»i gian</label>
                    <input type="text" id="sidebarTimeTitle" class="form-control" placeholder="VD: â±ï¸ Thá»i gian" value="â±ï¸ Thá»i gian">
                </div>

                <div class="form-group">
                    <label>â±ï¸ Ná»™i dung Thá»i gian</label>
                    <textarea id="sidebarTimeContent" class="form-control" rows="2">HoÃ n thÃ nh biá»ƒu máº«u chá»‰ máº¥t khoáº£ng 3-5 phÃºt.</textarea>
                </div>

                <div class="form-group">
                    <label>âœ‰ï¸ TiÃªu Ä‘á» XÃ¡c nháº­n</label>
                    <input type="text" id="sidebarConfirmTitle" class="form-control" placeholder="VD: âœ‰ï¸ XÃ¡c nháº­n" value="âœ‰ï¸ XÃ¡c nháº­n">
                </div>

                <div class="form-group">
                    <label>âœ‰ï¸ Ná»™i dung XÃ¡c nháº­n</label>
                    <textarea id="sidebarConfirmContent" class="form-control" rows="2">Báº¡n sáº½ nháº­n email xÃ¡c nháº­n ngay sau khi gá»­i form thÃ nh cÃ´ng.</textarea>
                </div>

                <div class="form-group">
                    <label>ğŸ’¬ TiÃªu Ä‘á» Há»— trá»£</label>
                    <input type="text" id="sidebarSupportTitle" class="form-control" placeholder="VD: ğŸ’¬ Cáº§n há»— trá»£?" value="ğŸ’¬ Cáº§n há»— trá»£?">
                </div>

                <div class="form-group">
                    <label>ğŸ’¬ Ná»™i dung Há»— trá»£</label>
                    <textarea id="sidebarSupportContent" class="form-control" rows="2">LiÃªn há»‡ vá»›i chÃºng tÃ´i qua Zalo náº¿u gáº·p váº¥n Ä‘á»</textarea>
                </div>

                <button class="btn btn-primary" onclick="saveSidebarContent()">ğŸ’¾ LÆ°u Ná»™i dung Sidebar</button>
            </div>

            <!-- Card 4: Zalo Number -->
            <div class="card">
                <div class="card-header">
                    <span class="icon">ğŸ“±</span>
                    <h2>Quáº£n lÃ½ Sá»‘ Zalo</h2>
                </div>

                <div class="info-box">
                    <p><strong>ğŸ’¡ HÆ°á»›ng dáº«n:</strong> Thay Ä‘á»•i sá»‘ Ä‘iá»‡n thoáº¡i Zalo hiá»ƒn thá»‹ trong popup liÃªn há»‡.</p>
                </div>

                <div class="current-value">
                    <strong>Sá»‘ hiá»‡n táº¡i:</strong> 
                    <span id="currentZaloText">0394304799</span>
                </div>

                <div class="form-group">
                    <label>ğŸ“± Sá»‘ Zalo má»›i</label>
                    <input type="tel" id="zaloNumber" class="form-control" placeholder="VD: 0394304799" pattern="[0-9]{10,11}" value="0394304799">
                    <small class="form-text">Nháº­p 10-11 sá»‘, khÃ´ng cÃ³ khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t</small>
                </div>

                <button class="btn btn-primary" onclick="saveZaloNumber()">ğŸ’¾ LÆ°u Sá»‘ Zalo</button>
            </div>

            <!-- Card 5: Export/Import Config -->
            <div class="card">
                <div class="card-header">
                    <span class="icon">ğŸ’¾</span>
                    <h2>Xuáº¥t/Nháº­p Cáº¥u HÃ¬nh</h2>
                </div>

                <div class="info-box">
                    <p><strong>ğŸ’¡ HÆ°á»›ng dáº«n:</strong></p>
                    <p>
                        <strong>Xuáº¥t:</strong> Táº£i file <code>config.json</code> chá»©a toÃ n bá»™ cáº¥u hÃ¬nh<br>
                        <strong>Nháº­p:</strong> Upload file <code>config.json</code> Ä‘á»ƒ khÃ´i phá»¥c cáº¥u hÃ¬nh
                    </p>
                </div>

                <button class="btn btn-primary" onclick="exportConfig()">ğŸ“¥ Xuáº¥t Config (Táº£i file)</button>

                <div class="form-group">
                    <label class="file-upload" for="configImport">
                        <span class="icon">ğŸ“¤</span>
                        <div class="file-upload-text">
                            <strong>Nháº­p Config tá»« file</strong><br>
                            <span>Click Ä‘á»ƒ chá»n file config.json</span>
                        </div>
                        <input type="file" id="configImport" accept=".json">
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/storageManager.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>